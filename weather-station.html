<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Project</title>

    <!-- Prism -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/prismjs/themes/prism-tomorrow.css"
    />
    <script src="https://cdn.jsdelivr.net/npm/prismjs/prism.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs/components/prism-cpp.min.js"></script>

    <!-- Site styles -->
    <link rel="stylesheet" href="style.css" />
  </head>

  <body>
    <header>
      <a href="index.html">← Back to projects</a>
      <h1 id="title">Arduino Weather Station</h1>
    </header>

    <main>
      <section id="desc-section">
        <h2>Description</h2>
        <p>
          I created a simple weather station with an Arduino UNO, a liquid crystal
          display, and a BME280 environmental sensor. It's currently in version
          1.0.0, simply returning results to a serial port and displaying them on
          the LCD, but I plan to update it with more components to add
          functionalities such as uploading data online to view.
        </p>
      </section>

      <section id="indepth-section">
        <h2>Explanation</h2>
        <p>
          Components:<br />
          1x Arduino UNO<br />
          1x 16x2 LCD<br />
          1x BME280 sensor<br />
          1x Potentiometer<br />
          1x 10KΩ Resistor<br />
          <br />
          Arduino Pin Connections:<br />
          2, 3, 4, and 5 connect to the LCD's pins DB7, DB6, DB5, and DB4
          respectively;<br />
          11 connects to LCD pin E;<br />
          12 connects to LCD pin RS; and<br />
          A4 and A5 connect to the BME280 pins SDA and SCL respectively.<br />
          <br />
          Code:
        </p>

        <details>
          <summary>Click to expand</summary>

          <pre><code class="language-cpp">
#include &lt;Wire.h&gt;
#include &lt;SPI.h&gt;
#include &lt;Adafruit_Sensor.h&gt;
#include &lt;Adafruit_BME280.h&gt;
#include &lt;LiquidCrystal.h&gt;

#define SEALEVELPRESSURE_HPA (1013.25)

Adafruit_BME280 bme;

unsigned long delayTime;

const int rs = 12, en = 11, d4 = 5, d5 = 4, d6 = 3, d7 = 2;
LiquidCrystal lcd(rs, en, d4, d5, d6, d7);

void setup() {
  Serial.begin(9600);
  Serial.println(F("-- Weather Station Ver. 1.0.0 --"));

  lcd.begin(16, 2);
  lcd.print("Weather Station");
  lcd.setCursor(0, 1);
  lcd.print("Ver. 1.0.0");

  for (int i = 0; i < 3; i++) {
    delay(500);
    lcd.clear();
    lcd.print("Loading.");
    delay(500);
    lcd.clear();
    lcd.print("Loading..");
    delay(500);
    lcd.clear();
    lcd.print("Loading...");
  }

  bool status = bme.begin(0x76);
  if (!status) {
    Serial.println("Could not find BME280 sensor");
    while (1);
  }

  delayTime = 3000;
  Serial.println();
}

void loop() {
  printValues();

  lcd.clear();
  lcd.setCursor(0, 0);
  lcd.print("Temperature:");
  lcd.setCursor(0, 1);
  lcd.print(String(bme.readTemperature()) + " C, ");
  lcd.print(String(1.8 * bme.readTemperature() + 32) + " F");

  delay(delayTime);

  lcd.clear();
  lcd.setCursor(0, 0);
  lcd.print("Pressure:");
  lcd.setCursor(0, 1);
  lcd.print(String(bme.readPressure() / 100.0F) + " hPa");

  delay(delayTime);

  lcd.clear();
  lcd.setCursor(0, 0);
  lcd.print("Humidity:");
  lcd.setCursor(0, 1);
  lcd.print(String(bme.readHumidity()) + "%");

  delay(delayTime);
}

void printValues() {
  Serial.print("Temperature = ");
  Serial.print(bme.readTemperature());
  Serial.print("˚C, ");
  Serial.print(1.8 * bme.readTemperature() + 32);
  Serial.println("˚F");

  Serial.print("Pressure = ");
  Serial.print(bme.readPressure() / 100.0F);
  Serial.println(" hPa");

  Serial.print("Humidity = ");
  Serial.print(bme.readHumidity());
  Serial.println(" %");

  Serial.println();
}
          </code></pre>
        </details>
      </section>

      <section id="images-section">
        <h2>Images</h2>
        <div class="images">
          <img
            src="resources/arduino-weather-station/AWSTemp.jpg"
            alt="BME280 Weather Station Temp"
          />
          <img
            src="resources/arduino-weather-station/AWSPres.jpg"
            alt="BME280 Weather Station Pressure"
          />
          <img
            src="resources/arduino-weather-station/AWSHumi.jpg"
            alt="BME280 Weather Station Humidity"
          />
        </div>
      </section>
    </main>
  </body>
</html>
